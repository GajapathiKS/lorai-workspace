[supervisord]
nodaemon=true
logfile=/tmp/supervisord.log
pidfile=/tmp/supervisord.pid

[program:xvfb]
command=Xvfb :1 -screen 0 1280x720x24
autorestart=true
priority=100

[program:openbox]
command=openbox --config-file /opt/lorai/config/openbox-rc.xml
autorestart=true
priority=200
environment=DISPLAY=":1"

[program:x11vnc]
command=x11vnc -display :1 -nopw -listen 0.0.0.0 -rfbport 5900 -shared -forever
autorestart=true
priority=300

[program:websockify]
command=websockify --web=/usr/share/novnc 6080 localhost:5900
autorestart=true
priority=400

[program:ollama]
command=ollama serve
autorestart=true
priority=500

[program:gateway]
command=python3 /opt/lorai/src/gateway/gateway.py
autorestart=true
priority=600
environment=DISPLAY=":1"

[program:lorai-shell]
command=python3 /opt/lorai/src/ai-shell/lorai_shell.py
autorestart=true
priority=700
environment=DISPLAY=":1"

[program:lorai-panel]
command=python3 /opt/lorai/src/desktop/lorai_panel.py
autorestart=true
priority=800
environment=DISPLAY=":1"

[program:lorai-fs]
command=python3 /opt/lorai/src/file-manager/lorai_fs.py
autorestart=true
priority=900
environment=DISPLAY=":1"
